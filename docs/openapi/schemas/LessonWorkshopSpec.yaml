# LessonWorkshopSpec Schema
type: object
description: Structured step-based workshop exercise for a lesson
required: [id, lessonId, isEnabled, title, steps]
properties:
  id:
    type: string
    format: uuid
    description: Unique identifier for the workshop exercise
  lessonId:
    type: string
    format: uuid
    description: ID of the lesson this workshop belongs to
  isEnabled:
    type: boolean
    description: Whether the workshop is enabled for students
  title:
    type: string
    description: Title of the workshop exercise
  introduction:
    type: string
    description: Introduction text shown before the workshop starts
  steps:
    type: array
    description: Sequential steps for the workshop exercise
    items:
      type: object
      required: [instructions, expected_commands, success_response]
      properties:
        instructions:
          type: array
          items:
            type: string
          description: List of instruction prompts for this step
        expected_commands:
          type: array
          items:
            type: string
          description: Array of acceptable command variations for this step
        success_response:
          type: string
          description: Expected output when the command succeeds
        failure_response:
          type: string
          description: Error message with hint when the command fails
        success:
          type: boolean
          description: Whether this step has been completed successfully
  end_message:
    type: string
    description: Completion message shown when all steps are finished
  settings:
    type: object
    description: Workshop settings
    properties:
      allowRetry:
        type: boolean
        description: Whether retries are allowed
      maxRetries:
        type: integer
        description: Maximum number of retries
      autoAdvance:
        type: boolean
        description: Whether to auto-advance to next exercise
      allowHintUsage:
        type: boolean
        description: Whether hints can be used
      showExpectedOutput:
        type: boolean
        description: Whether to show expected output
  resources:
    type: array
    description: Additional resources for the workshop
    items:
      type: object
      required: [url, type, title]
      properties:
        url:
          type: string
          format: uri
          description: URL of the resource
        type:
          type: string
          enum: [documentation, video, tutorial]
          description: Type of resource
        title:
          type: string
          description: Title of the resource

