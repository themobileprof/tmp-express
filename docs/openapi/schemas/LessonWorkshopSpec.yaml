# LessonWorkshopSpec Schema
type: object
description: Structured exercise-based workshop spec for a lesson
required: [title, exercises]
properties:
  title:
    type: string
    description: Title of the workshop
  description:
    type: string
    description: Description of the workshop
  initialMessage:
    type: string
    description: Message shown when the workshop starts
  successMessage:
    type: string
    description: Message shown when the workshop is completed
  difficulty:
    type: string
    enum: [beginner, intermediate, advanced]
    description: Difficulty level of the workshop
  estimatedDuration:
    type: integer
    description: Estimated duration in minutes
  prerequisites:
    type: array
    items:
      type: string
    description: List of prerequisites for the workshop
  tags:
    type: array
    items:
      type: string
    description: Tags for categorizing the workshop
  environment:
    type: object
    description: Runtime environment configuration
    required: [type, image, workingDirectory]
    properties:
      type:
        type: string
        example: linux
        description: Environment type
      image:
        type: string
        example: ubuntu:22.04
        description: Docker image to use
      packages:
        type: array
        items:
          type: string
        description: Additional packages to install
      workingDirectory:
        type: string
        example: /workspace
        description: Working directory for the workshop
      environmentVariables:
        type: object
        additionalProperties:
          type: string
        description: Environment variables to set
  exercises:
    type: array
    description: Ordered list of exercises for the workshop
    items:
      type: object
      required: [id, title, commands]
      properties:
        id:
          type: string
          description: Unique identifier for the exercise
        title:
          type: string
          description: Title of the exercise
        description:
          type: string
          description: Description of the exercise
        initialMessage:
          type: string
          description: Message shown when this exercise starts
        successMessage:
          type: string
          description: Message shown when this exercise is completed
        commands:
          type: array
          description: Sequence of commands for this exercise
          items:
            type: object
            required: [command, output]
            properties:
              command:
                type: string
                description: The command to execute
              output:
                type: string
                description: Expected output from the command
              description:
                type: string
                description: Description of what this command does
  settings:
    type: object
    description: Workshop settings
    properties:
      allowRetry:
        type: boolean
        description: Whether retries are allowed
      maxRetries:
        type: integer
        description: Maximum number of retries
      autoAdvance:
        type: boolean
        description: Whether to auto-advance to next exercise
      allowHintUsage:
        type: boolean
        description: Whether hints can be used
      showExpectedOutput:
        type: boolean
        description: Whether to show expected output
  resources:
    type: array
    description: Additional resources for the workshop
    items:
      type: object
      required: [url, type, title]
      properties:
        url:
          type: string
          format: uri
          description: URL of the resource
        type:
          type: string
          enum: [documentation, video, tutorial]
          description: Type of resource
        title:
          type: string
          description: Title of the resource

